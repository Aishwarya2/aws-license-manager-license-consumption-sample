## AWS License Manager - Managed Entitlements Python Sample Code

With AWS License Manager, a license administrator can distribute, activate, and track software licenses across accounts and throughout an organization.

Independent software vendors (ISVs) can use AWS License Manager to manage and distribute software licenses and data to end users using Managed Entitlements. You can track the central usage of your seller-issued licenses using AWS License Manager dashboard. ISVs selling through AWS Marketplace benefit from automatic license creation and distribution as a part of the transaction workflow. ISVs can also use AWS License Manager to create bearer tokens and activate licenses for customers without an AWS account.

AWS License Manager uses open, secure, industry standards for representing licenses and allows customers to cryptographically verify their authenticity. AWS License Manager supports a variety of licensing models including perpetual licenses, floating licenses, subscription licenses, and usage-based licenses. If you have licenses that must be node-locked, AWS License Manager provides mechanisms to consume your licenses in that way.

You can create licenses in AWS License Manager and distribute them to end users using an IAM identity or through digitally signed tokens generated by AWS License Manager. End users may choose to redistribute the license entitlements to AWS identities in their respective organizations. End users with distributed entitlements can perform check-out and check-in activities from the specific license through software integration with AWS License Manager. Each license check-out specifies the entitlements, the associated quantity, and check-out time period, for example, ‘checking out 10 admin-users for 1 hour.’ Check-out can be performed based on the underlying IAM identity for the distributed license or based on the bearer tokens generated by AWS License Manager.

In the sample python script, we demonstrate the activities that end users can perform to 'check out' or 'check in' the licenses back. We perform the below operations in the respective order in us-east-1 region. 

create_license

Creates a simple test license as an example. We have entitlements called Users and are indicating to AWS License Manager that it should allow license checkout by specifying ConsumptionConfiguration.

checkout_license

Checks out the test license with valid Entitlements. In this sample, we checkout the test license created using Users entitlement. Checkout API ensures user is granted to use a license and the capabilities available for use.

extend_license_consumption

In this sample we are extending the license consumption for the checked out test license. This can be used for scenarios when we are not done with the license consumption and if the expiration time is in the near future. 

check_in_license

Checks in the license if the license is no longer in use. In this sample, we are checking back in the license consumption token that we have checked out in the previous step. This can be used in scenarios when a license is no longer required.  

delete_license

Deletes the license. In this sample, we are deleting the test license we have created. This can be used in scenarios when a license is no longer required. 

For more details: https://docs.aws.amazon.com/license-manager/index.html

